<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Subcontractor Agreement | Anchor Homes LLC</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="brand">
        <img src="logo.png" alt="Anchor Homes LLC logo" class="brand-logo" />
        <span class="brand-text">
          <span class="brand-name">Anchor Homes LLC</span>
          <span class="brand-tagline">Custom Homes &amp; Remodeling</span>
        </span>
      </a>

      <button class="nav-toggle" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>

      <nav class="main-nav">
        <a href="index.html">Home</a>
        <a href="projects.html">Projects</a>
        <a href="subcontractors.html">Subcontractors</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="page-header">
      <div class="container">
        <h1>Subcontractor Agreement</h1>
        <p>
          Please review and sign the Anchor Homes LLC Subcontractors Agreement
          below. When you submit, we’ll capture an image of the signed agreement
          and send it to our office via Formspree.
        </p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <form
          id="agreement-form"
          action="https://formspree.io/f/xdkqdpgd"
          method="POST"
          enctype="multipart/form-data"
        >
          <!-- Basic subcontractor info -->
          <div class="form-card">
            <h2 style="margin-top:0;margin-bottom:0.75rem;">Subcontractor information</h2>
            <div class="form-grid">
              <div>
                <label class="form-label" for="sub-name">Company / Individual Name</label>
                <input
                  id="sub-name"
                  name="subcontractor_name"
                  class="form-input"
                  required
                />
              </div>
              <div>
                <label class="form-label" for="sub-trade">Primary Trade</label>
                <input
                  id="sub-trade"
                  name="primary_trade"
                  class="form-input"
                  placeholder="Framing, electrical, plumbing, etc."
                  required
                />
              </div>
              <div>
                <label class="form-label" for="sub-contact">Contact Person</label>
                <input
                  id="sub-contact"
                  name="contact_person"
                  class="form-input"
                  required
                />
              </div>
              <div>
                <label class="form-label" for="sub-phone">Phone</label>
                <input
                  id="sub-phone"
                  name="phone"
                  type="tel"
                  class="form-input"
                />
              </div>
              <div>
                <label class="form-label" for="sub-email">Email</label>
                <input
                  id="sub-email"
                  name="email"
                  type="email"
                  class="form-input"
                  required
                />
              </div>
              
              <div class="form-row-full">
                <label class="form-label" for="sub-notes">
                  Notes (crew size, scheduling, specialties)
                </label>
                <textarea
                  id="sub-notes"
                  name="notes"
                  class="form-textarea"
                ></textarea>
              </div>
            </div>
          </div>

          <!-- Agreement text card to capture -->
          <div id="agreement-capture" class="document-card agreement-card">
            <h2 style="margin-top:0;text-transform:uppercase;font-size:1rem;">
              Subcontractors Agreement
            </h2>

            <p style="font-size:0.9rem;line-height:1.5;">
              This Document is a binding contract, which will serve as a blanket
              agreement for and between <strong>Anchor Homes LLC</strong>, herein
              known as <strong>Builder</strong>, and the undersigned referred to
              hereafter as <strong>Subcontractor</strong>. By signing,
              Subcontractor and Builder agree to the terms set forth herein. This
              agreement shall remain in force from the date hereof and from year
              to year, unless a change is agreed to in writing by both Builder and
              Subcontractor. The parties agree to the following:
            </p>

            <h3>1. GENERAL PERFORMANCE</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              All Work of the Subcontractor will be performed in a good and
              workmanlike manner in accordance with the plans and specifications
              for each job and must comply with all Federal and State laws, codes
              and regulations and all county and/or municipal ordinances and
              regulations effective where the work is to be performed under this
              contract. All permits, fees, taxes, and expenses connected with such
              compliance are to be paid by the Subcontractor.
            </p>

            <h3>2. INDEPENDENT CONTRACTOR</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              The Builder and Subcontractor agree that the Subcontractor is being
              hired solely as an Independent Contractor and that neither the
              Subcontractor, nor his employees shall be deemed to be employees of
              the Builder.
            </p>

            <h3>3. TIME</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              The Subcontractor agrees to promptly begin work as soon as notified
              by the Builder, and to complete the work in a professional and
              workmanlike manner within a reasonable period of time once work is
              commenced and in any event by the deadlines established by the
              Builder in writing. Subcontractor shall cooperate with other trades
              who are also on the jobsite so that each reasonably may complete
              their respective work within the required time frames and
              Subcontractor shall in any event complete Subcontractor’s work
              within a time that will allow any other trade whose work depends on
              the completion of Subcontractor’s work to also timely complete its
              work. At all times, Subcontractor shall provide competent
              supervision, a sufficient number of skilled workers and adequate and
              proper materials to maintain Builder’s work schedule. Subcontractor
              warrants to Builder that he has all proper and necessary licenses and
              permits to perform the services contracted for by Builder. If Builder
              determines that Subcontractor’s work does not conform to the
              provisions of the Drawings and Specifications, or that the work is
              not of appropriate quality, Builder shall advise Subcontractor, and
              if Subcontractor does not correct such defects or errors on Builder’s
              time table, Builder shall have the right to correct the defects and
              to charge back the Subcontractor the cost of such corrections.
            </p>

            <h3>4. EXTRAS</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              No deviations from the work specified in the contract will be
              permitted or paid for unless a written extra work or change order is
              first agreed upon and signed as required.
            </p>

            <h3>5. ASSIGNMENT</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              No assignment of this subcontract agreement by Subcontractor is
              permitted without prior written permission from the Builder.
            </p>

            <h3>6. HOLD HARMLESS</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              The Subcontractor agrees to protect, defend and indemnify the Builder
              against and hold the Builder harmless for any and all claims,
              demands, liabilities, losses, expenses, suits and actions (including
              attorney’s fees) for or on account of any injury to any person, or
              any death at any time resulting from such injury, or any damage to
              any property, which may arise (or which may be alleged to have
              risen) out of or in connection with the work covered by this
              subcontract even though such injury, death, or damage may be (or may
              be alleged to be) attributable in part to negligence or other fault
              on the part of the Builder or his officers, agents or employees. If
              Builder reasonably believes that Subcontractor will or has caused a
              claim to be made or a lien to be filed against Builder’s Property,
              Builder may retain any and all monies due Subcontractor and make such
              payment to Subcontractor and claimant jointly.
            </p>
            <p style="font-size:0.85rem;line-height:1.6;">
              The obligation of the Subcontractor to indemnify and hold the Builder
              harmless shall not be enforceable if and only if it be determined by
              arbitration or judicial proceeding that the injury, death or damages
              complained of was attributable solely to the fault or negligence of
              the Builder or his officers, agents, or employees and not in any
              manner or in any part attributable to the Subcontractor. The
              Subcontractor agrees to reimburse the Builder for all sums, which the
              Builder may pay or be compelled to pay in settlement of any claim
              hereunder, including any claim under the provisions of any workmen’s
              compensation law or any plan for employees’ benefits which the
              Builder may adopt. The Builder shall be entitled to withhold from
              payment otherwise due pursuant to this subcontract such amount or
              amounts as may be reasonably necessary to protect it against
              liability for any personal injury, death or property damage resulting
              from the performance of the work hereunder.
            </p>

            <h3>7. MECHANICS LIEN</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor shall furnish all partial and final lien waivers
              (waivers refer to the instruments executed by reason of payment or
              waiver of payment) and release and sworn statements under the
              Tennessee State Mechanic’s Lien Law, for Subcontractor and for all
              Subcontractor’s material men and suppliers in a form satisfactory and
              acceptable to Builder as a condition precedent to partial and final
              payments to Subcontractor hereunder, as may be required by Builder.
            </p>
            <p style="font-size:0.85rem;line-height:1.6;">
              If any lien or other encumbrance or any claim of the nonpayment of
              labor, materials or supplies furnished to Subcontractor is asserted,
              claimed or filed against Builder’s property arising out of the
              contract or said work hereunder, notwithstanding the furnishing of
              said lien waivers or sworn statements by Subcontractor on the making
              of any said payments to Subcontractor, the Subcontractor shall
              protect, indemnify, hold harmless and defend the Builder, and its
              successors and assigns, from and against all such liens and
              encumbrances and all costs, fee, loss, damage and expenses
              (including, but not limit to attorneys fees and litigation expenses)
              in connection therewith. Any such assertion or claim may be treated
              by Builder as default of the contract and Builder on behalf of itself
              may take action as it deems necessary to mitigate its damages and
              charge the cost and expense thereof to Subcontractor.
            </p>

            <h3>8. CLEAN-UP</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor agrees to clean up all debris, trash, and refuse
              generated by his own trade at the end of each day and deposit into
              trash bin provided by Builder, and shall clean all walls, floors and
              other finished surfaces soiled as a result of his trade. Subcontractor
              further agrees to deposit into trash bin or haul away all boxes,
              crates, or containers that may have been used to bring materials or
              fixtures to the job site. Subcontractor agrees to leave the job broom
              clean for the next trade. In the event the Subcontractor fails to
              comply with the above after receiving the proper notice of the
              problem and the opportunity to correct it, Builder may back charge
              the Subcontractor for the cost of the debris removal and clean up.
              The Subcontractor should report to the Builder if the job has not
              been cleaned within acceptable practices by the prior Subcontractor.
            </p>

            <h3>9. DEFAULT</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              If Subcontractor shall default in the performance of any of his
              duties or obligations hereunder, and such default shall continue
              after verbal or written notice, Builder may immediately terminate
              this Agreement. Subcontractor shall be due only such sums for
              approved work up until termination and shall furnish lien waivers to
              Builder upon termination and payment.
            </p>

            <h3>10. CARE OF MATERIALS</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor agrees to be diligent in the proper care of materials
              supplied by Builder. All usable materials are to be stored in an
              orderly way that protects them from wind, moisture, and provides
              general site safety. All non-usable materials are to be culled and
              properly disposed of in trash bins provided. Builder may at its
              discretion hold Subcontractor accountable for value of materials
              damaged by negligent Subcontractor care. Builder may back charge the
              Subcontractor for the cost of materials, deemed by Builder to be
              damaged by negligent Subcontractor care. Subcontractor promptly shall
              notify Builder of any defects in any materials supplied by Builder.
            </p>

            <h3>11. PAYMENT</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Builder shall provide stated time frames for Subcontractor to submit
              invoices for the work performed. Invoices not received by the stated
              time will be processed and paid in the next pay period. Invoices in
              question will be held in their entirety until the disputed charge is
              resolved. Payment for a disputed charge may be held from the
              Subcontractor’s total payment regardless of the specific project in
              dispute.
            </p>

            <h3>12. INSURANCE</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor shall provide Builder at the time of the signing of
              this agreement with a Certificate of Insurance, showing the following
              insurance during the period of the contract and to provide evidence
              of such insurance when requested. Each certificate shall provide for
              30 days advance written notice of cancellation or non-renewal.
            </p>
            <p style="font-size:0.85rem;line-height:1.6;">
              A. Commercial General Liability coverage with an insurance carrier
              rated A- or better by A.M. Best with limits equal to or exceeding:
              $1,000,000 Combined Single Limit each occurrence; $2,000,000 General
              Aggregate; $2,000,000 Products/Completed Operations Aggregate. Builder
              is to be named as Additional Insured on Subcontractor’s policy.
            </p>
            <p style="font-size:0.85rem;line-height:1.6;">
              B. Workers Compensation Insurance covering all persons performing
              work at the Builder’s job sites including, employees of the
              Subcontractor and subcontractors of the Subcontractor. Further,
              Subcontractor, including but not limited to a sole proprietor who has
              one or more employees shall also provide, at his own expense, a
              current Certificate of Worker’s Compensation Insurance.
            </p>
            <p style="font-size:0.85rem;line-height:1.6;">
              C. Automobile Liability Insurance for any and all vehicles used at
              any jobsites or to transport individuals or materials to or from
              jobsites for a minimum coverage amount of $500,000 each accident.
              Subcontractor agrees to inform Builder immediately in the event of
              any changes in coverage, including without limitation, cancellation,
              non-renewal or limitations on coverage.
            </p>

            <h3>HEALTH AND SAFETY</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor agrees to exercise all precautions necessary to prevent
              accidents to himself, his workers, and all others. If applicable
              Subcontractor shall supply at his own expense all protective eyewear,
              ear protection, head protection, etc. to his workers. The
              Subcontractor will at his own expense comply with all specific health
              and safety requirements of the Federal Occupational Safety and Health
              Act, Tennessee Occupational Safety and Health Act, and any other
              applicable authority. The Subcontractor also agrees to defend at his
              own expense and be responsible for penalties of any nature assessed
              by such agencies for non-compliance by himself or his employees or
              agents. Subcontractor agrees that he and all his employees have
              undergone proper safety training and have been properly trained and
              educated with regard to any hazardous material used in conjunction
              with the trade as required by the State or Federal law or as mutually
              agreed to by both parties. Any hazardous materials, containers, or
              waste shall not be left on the job by the Subcontractor and shall be
              removed from the job site and disposed of properly at the
              Subcontractor’s own expense.
            </p>

            <h3>13. CONDUCT</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor agrees that his employees and agents of the
              subcontractor shall conduct themselves in a professional manner at
              all times. Subcontractor further agrees, himself, employees and
              agents shall not use or be under the influence of alcoholic beverages
              or drugs on the job site. Subcontractor agrees that in the event of
              any kind of accident on the job site where subcontractor or employees
              and/or agents of the subcontractor are present, any or all present
              will submit to drug testing under the Builder’s drug policy, which is
              on file at its office. Additionally, Subcontractor further agrees to
              not enter into any agreement with the Builder’s customer, while the
              house is under construction and until the Builder’s customer has
              purchased the property.
            </p>

            <h3>14. MAINTENANCE OF EROSION CONTROL</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor agrees that he, his employees and all agents of the
              subcontractor shall not disturb any erosion control systems
              constructed on site in behalf of the Builder. If any silt fencing or
              hay bales are moved to gain access to site, then the structures shall
              be returned to their effective status immediately. Subcontractor
              shall indemnify, and hold harmless the Builder and all of its agents
              and employees from and against all claims, fines, damages, losses and
              expenses including attorney’s fees arising out of or resulting from
              damage to erosion control structures on the job site caused by
              Subcontractor, his employees or agents.
            </p>

            <h3>15. ARBITRATION</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              It is hereby agreed that should any dispute arise respecting the
              provisions of this Agreement or of the true meaning of the Drawings
              or Specifications it shall be decided by binding arbitration and said
              arbitration shall be the sole remedy for dispute resolution. Such
              arbitration shall be by three disinterested parties, one of which
              arbitrator shall be selected by Subcontractor, one by Builder, and
              the third shall be selected by the two arbitrators so chosen. The
              decision of a majority of said arbitrators shall be binding, final
              and conclusive upon the parties hereto. The expense of such
              arbitration is to be borne equally by Builder and Subcontractor.
            </p>

            <p style="font-size:0.8rem;font-style:italic;margin-top:0.4rem;">
              Initials: ______________________________
            </p>

            <h3>16. WARRANTY</h3>
            <p style="font-size:0.85rem;line-height:1.6;">
              Subcontractor shall warrant against any defects in workmanship and/or
              materials, which were supplied by subcontractor for a period of one
              year from the date the home is first occupied by the homeowner. The
              Subcontractor’s warranty shall be of the same standards and duration
              as the Builder’s warranty provided to the Owner. A copy of such
              warranty is available on request from Builder.
            </p>

            <!-- Signature area from your template text -->
            <p style="font-size:0.85rem;line-height:1.6;margin-top:1rem;">
              _____________________________________________ Name of Subcontractor
              &nbsp;&nbsp;&nbsp; Signature: ____________________________<br />
              Title: _____________ &nbsp;&nbsp;&nbsp; Date: ______________
            </p>

            <!-- Interactive signature + fields used for capture -->
            <div style="margin-top:1.25rem;">
              <div class="signature-label" style="margin-bottom:0.25rem;font-size:0.8rem;">
                Subcontractor Signature (sign in the box below)
              </div>
              <div class="signature-pad-wrapper">
                <canvas
                  id="agreement-signature-pad"
                  class="signature-pad"
                ></canvas>
              </div>
            </div>

            <div class="signature-blocks" style="margin-top:1rem;">
              <div class="signature-box">
                <div class="signature-label">Subcontractor Name (printed)</div>
                <input
                  type="text"
                  name="agreement_sub_name"
                  class="form-input"
                  style="margin-top:0.25rem;"
                  placeholder="Name of Subcontractor"
                  required
                />
              </div>
              <div class="signature-box">
                <div class="signature-label">Title</div>
                <input
                  type="text"
                  name="agreement_title"
                  class="form-input"
                  style="margin-top:0.25rem;"
                  placeholder="Title"
                />
              </div>
              <div class="signature-box">
                <div class="signature-label">Date</div>
                <input
                  type="text"
                  name="agreement_date"
                  class="form-input"
                  style="margin-top:0.25rem;"
                  placeholder="MM/DD/YYYY"
                  required
                />
              </div>
            </div>
          </div>

          <div style="margin-top:1.25rem;display:flex;flex-direction:column;gap:0.4rem;">
            <div style="text-align:right;">
              <button
                type="button"
                class="btn secondary"
                id="btn-clear-agreement-signature"
              >
                Clear signature
              </button>
            </div>
            <button type="submit" class="btn primary">
              Submit Subcontractor Agreement
            </button>
            <div id="agreement-status" style="font-size:0.84rem;"></div>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container site-footer-inner">
      <span>&copy; <span id="year"></span> Anchor Homes LLC.</span>
      <span>Thank you for partnering with us.</span>
    </div>
  </footer>

  <script src="scripts.js"></script>
  <!-- SignaturePad + html2canvas -->
  <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const AGREEMENT_KEY = "sub_agreement_completed";
    const form = document.getElementById("agreement-form");
    const statusEl = document.getElementById("agreement-status");

    const sigCanvas = document.getElementById("agreement-signature-pad");

    function initSignatureCanvas(canvas) {
      if (!canvas) return;
      const parent = canvas.parentElement;
      const width = parent.clientWidth || 320;
      const height = parent.clientHeight || 100;
      canvas.width = width;
      canvas.height = height;
    }

    initSignatureCanvas(sigCanvas);

    const agreementPad = new SignaturePad(sigCanvas, {
      penColor: "#000000",
      backgroundColor: "rgba(0,0,0,0)"
    });

    document
      .getElementById("btn-clear-agreement-signature")
      .addEventListener("click", () => agreementPad.clear());

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      statusEl.className = "";
      statusEl.textContent = "Preparing agreement… please wait.";

      if (agreementPad.isEmpty()) {
        statusEl.className = "error";
        statusEl.textContent = "Please sign the agreement before submitting.";
        return;
      }

      const agreementEl = document.getElementById("agreement-capture");
      const originalWidth = agreementEl.style.width;
      const originalHeight = agreementEl.style.height;

      try {
        // Make the capture area roughly letter-size for readability
        agreementEl.style.width = "8.5in";
        agreementEl.style.minHeight = "11in";

        const canvas = await html2canvas(agreementEl, { scale: 2 });
        const agreementBlob = await new Promise((resolve) =>
          canvas.toBlob(resolve, "image/png")
        );
        const sigBlob = await new Promise((resolve) =>
          sigCanvas.toBlob(resolve, "image/png")
        );

        const formData = new FormData(form);
        if (agreementBlob) {
          formData.append(
            "agreement_file",
            agreementBlob,
            "subcontractor-agreement.png"
          );
        }
        if (sigBlob) {
          formData.append(
            "agreement_signature_file",
            sigBlob,
            "agreement-signature.png"
          );
        }

        const response = await fetch(form.action, {
          method: "POST",
          body: formData,
          headers: { Accept: "application/json" }
        });

        if (response.ok) {
          // Mark as complete & return to landing page
          localStorage.setItem(AGREEMENT_KEY, "true");
          window.location.href = "subcontractors.html?agreement=done";
        } else {
          statusEl.className = "error";
          statusEl.textContent =
            "There was a problem submitting the agreement. Please try again.";
        }
      } catch (err) {
        console.error(err);
        statusEl.className = "error";
        statusEl.textContent =
          "Unexpected error preparing the agreement. Please refresh and try again.";
      } finally {
        agreementEl.style.width = originalWidth;
        agreementEl.style.height = originalHeight;
      }
    });
  </script>
</body>
</html>
